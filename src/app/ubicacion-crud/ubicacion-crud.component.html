<div class="container">
  <h2>Gestión de Ubicaciones</h2>

  <div *ngIf="error" class="alert alert-danger" role="alert">
    {{ error }}
  </div>

  <div class="form-container">
    <h3>{{ ubicacionEditando ? 'Editar Ubicación' : 'Nueva Ubicación' }}</h3>
    <form (ngSubmit)="ubicacionEditando ? actualizarUbicacion() : crearUbicacion()">
      <div class="form-group">
        <label for="direccion">Dirección</label>
        <input type="text" id="direccion" name="direccion" [(ngModel)]="ubicacionEditando.direccion" required>
      </div>

      <div class="form-group">
        <label for="ciudad">Ciudad</label>
        <input type="text" id="ciudad" name="ciudad" [(ngModel)]="ubicacionEditando.ciudad" required>
      </div>

      <div class="form-group">
        <label for="pais">País</label>
        <input type="text" id="pais" name="pais" [(ngModel)]="ubicacionEditando.pais" required>
      </div>

      <div class="button-group">
        <button type="submit" class="btn btn-primary">
          {{ ubicacionEditando ? 'Actualizar' : 'Crear' }}
        </button>
        <button *ngIf="ubicacionEditando" type="button" class="btn btn-secondary" (click)="cancelarEdicion()">
          Cancelar
        </button>
      </div>
    </form>
  </div>

  <div class="table-container">
    <h3>Ubicaciones Existentes</h3>
    <table class="table">
      <thead>
        <tr>
          <th>Dirección</th>
          <th>Ciudad</th>
          <th>País</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let ubicacion of ubicaciones">
          <td>{{ ubicacion.direccion }}</td>
          <td>{{ ubicacion.ciudad }}</td>
          <td>{{ ubicacion.pais }}</td>
          <td>
            <button class="btn btn-warning btn-sm" (click)="iniciarEdicion(ubicacion)">
              Editar
            </button>
            <button class="btn btn-danger btn-sm" (click)="eliminarUbicacion(ubicacion.idUbicacion)">
              Eliminar
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="footer-buttons">
    <button class="btn btn-secondary" (click)="volverAEventos()">Volver a Eventos</button>
    <button class="btn btn-danger" (click)="logout()">Cerrar Sesión</button>
  </div>
</div> 